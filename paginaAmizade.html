<div class="col-md-8">

    <div class="panel panel-default">
        <div class="panel-heading">
            <h3 class="panel-title">Encontrar amigos</h3>
        </div>
        <div class="panel-body">
            <form method="POST" target="_self">
                <div class="form-group">
                    <input type="text" name="pesquisar" id="pesquisar" class="form-control" placeholder="Digite aqui e encontre seus amigos!!!" >
                </div>
            </form>
        </div>
    </div>

    <div class="members">
        <h1 class="page-header">Sugestão de amizades</h1>
        <div class="row member-row resultado">

        </div>


    </div>
</div>
<div class="col-md-4">

    <div class="painel">
        <div class="friends">
            <div class="panel-heading">
                <h3 class="panel-title">Solicitações de Amizade</h3>
            </div>
            <div class="pendentes">
                <!--o as solicitações de amizade aparecerão aqui-->
            </div>
            <div class="panel-footer">           
                <button class="btn btn-primary btn-block">Ver todos</button>
            </div>
        </div>

    </div>

    <div class="painel">
        <div class="friends">
            <div class="panel-heading">
                <h3 class="panel-title">Solicitações de Amizade</h3>
            </div>
            <div class="pendentes">
                <!--o as solicitações de amizade aparecerão aqui-->
            </div>
            <div class="panel-footer">           
                <button class="btn btn-primary btn-block">Ver todos</button>
            </div>
        </div>

    </div>


</div>


<script>
    $(document).ready(function () {

        PendeteParaAprovacao();
    });
    
    function PendeteParaAprovacao(){
        $.get('controller/amizade_controller.php?method=PendeteParaAprovacao', function (result) {
            $(".pendentes").html(result);
        });
    };

    function aceitarAmizade(id) {
        let dados = {
            idAmigo: id
        };
        $.post('controller/amizade_controller.php?method=AceitarAmizade', dados, function () {
            PendeteParaAprovacao();
        });
    }
    
    function rejeitarAmizade(id) {
        let dados = {
            idAmigo: id
        };
        $.post('controller/amizade_controller.php?method=RejeitarAmizade', dados, function () {
            PendeteParaAprovacao();
        });
    }

    $(function () {
        $("#pesquisar").keyup(function () {
            let pesquisa = $(this).val();

            if (pesquisa != '') {
                let dados = {
                    palavra: pesquisa
                };

                $.post('controller/amizade_controller.php?method=EncontrarAmigo', dados, function (result) {
                    $(".resultado").html(result);

                });
            } else {
                $(".resultado").html('');
                //chamar aqui a busca de sugestao de amizades
            }

        });

    });
</script>